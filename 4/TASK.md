# Транзакции

## solution.js

Реализуйте функцию, которая вносит данные бронирования в БД. Функция принимает следующие параметры:

- `client` — клиент для подключения к БД
- `user` — данные пользователя, объект вида `{ username, phone }`
- `roomNumber` — номер комнаты
- `price` — цена бронирования

Функция должна внести пользователя в таблицу `users`, заполнив поля `username` и `phone`. Для упрощения предполагается, что пользователь всегда новый.

Далее функция должна внести запись в таблицу заказов `orders`, заполнив поля:

- `user_id` — идентификатор добавленного пользователя из таблицы `users`
- `room_id` — идентификатор комнаты
- `price` — цена бронирования

Также функция должна обновить запись в таблице комнат `rooms`. В этой таблице находятся данные комнат со следующими полями:

- `id` — идентификатор комнаты
- `room_number` — номер комнаты
- `places` — количество спальных мест в комнате
  status — статус комнаты: `free` — свободна, `reserved` — забронирована

Функция должна поменять статус на значение `reserved` у той комнаты, которая бронируется.

Если хотя бы одна из операций невозможна, должен происходить откат к изначальным значениям. Функция в этом случае должна выбросить ошибку.
